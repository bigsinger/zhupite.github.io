---
layout:		post
category:	"soft"
title:		"æ–‡æœ¬ç”Ÿæˆå£°éŸ³"

tags:		[ai,tts]
---
- Content
{:toc}


# æ–‡æœ¬ç”Ÿæˆå£°éŸ³

## Fish Speech

### å®˜ç½‘

å®˜ç½‘ç›´æ¥ä½¿ç”¨ï¼š[Fish Audio: Free Generative AI Text To Speech & Voice Cloning](https://fish.audio/zh-CN/)  é€šè¿‡å®˜ç½‘çš„ [ä¾‹å­](https://speech.fish.audio/zh/samples/) å¯ä»¥æ„Ÿå—åˆ°å¼ºå¤§ã€‚

å¯ä»¥å…‹éš†å£°éŸ³ï¼šhttps://fish.audio/zh-CN/train/new-model/

### æœ¬åœ°éƒ¨ç½²

å®˜ç½‘å®‰è£… [ä»‹ç»](https://speech.fish.audio/zh/)ï¼Œå‚è€ƒï¼š[](https://speech.fish.audio/zh/finetune/) åœ¨WSL2é‡Œå®‰è£…ï¼š

```bash
# åˆ›å»ºä¸€ä¸ª python 3.10 è™šæ‹Ÿç¯å¢ƒ, ä½ ä¹Ÿå¯ä»¥ç”¨ virtualenv
conda create -n fish-speech python=3.10
conda activate fish-speech

# å®‰è£… pytorch
pip3 install torch==2.4.1 torchvision==0.19.1 torchaudio==2.4.1 --index-url https://download.pytorch.org/whl/cu121

# å®‰è£… fish-speech
pip3 install -e .

# (å¼€å¯ç¼–è¯‘åŠ é€Ÿ) å®‰è£… triton-windows
pip install https://github.com/AnyaCoder/fish-speech/releases/download/v0.1.0/triton_windows-0.1.0-py3-none-any.whl
```



æ¨¡å‹ï¼š[fish-speech-1.5 Â· æ¨¡å‹åº“](https://modelscope.cn/models/AI-ModelScope/fish-speech-1.5/files)

æç¤ºï¼š

```
CUDA is not available, running on CPU.
```

å®‰è£… [CUDA Toolkit](https://developer.nvidia.com/cuda-toolkit) 

```bash
 cd tools/ 
 python run_webui.py
```

æˆåŠŸå¯åŠ¨æç¤ºï¼š

```
Warming up done, launching the web UI...
* Running on local URL:  http://127.0.0.1:7860
```



æµè§ˆå™¨è®¿é—®ï¼šhttp://127.0.0.1:7860

æµ‹è¯•å‘ç°ç‰¹åˆ«æ…¢ï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯è·Ÿ`CUDA is not available`æœ‰å…³ç³»ï¼Œä¸‹æ¬¡é‡å¯ç”µè„‘è¯•ä¸‹ã€‚







## MoneyPrinterTurbo

[harry0703/MoneyPrinterTurbo: åˆ©ç”¨AIå¤§æ¨¡å‹ï¼Œä¸€é”®ç”Ÿæˆé«˜æ¸…çŸ­è§†é¢‘ Generate short videos with one click using AI LLM.](https://github.com/harry0703/MoneyPrinterTurbo)



ä¸‹è½½åè§£å‹ï¼Œè¿è¡Œ`update.bat`è¿›è¡Œæ›´æ–°ï¼ŒæŒ‰ç…§å®˜æ–¹çš„æ¨èç”¨æ³•æ˜¯ä½¿ç”¨æœ¬åœ°æœåŠ¡å™¨çš„å½¢å¼ï¼Œè¿è¡Œ`start.bat`ã€‚

ä½†æ˜¯è¿™ç§ç”¨Webç½‘é¡µçš„å½¢å¼ä¸æ–¹ä¾¿ï¼Œæˆ‘ä»¬è¿›è¡Œæ”¹é€ ä¸€ä¸‹ï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨å‘½ä»¤è¡Œæ–¹å¼ä½¿ç”¨ã€‚

1. å®‰è£…Pythonä¾èµ–åº“ï¼Œ`pip install -r MoneyPrinterTurbo\requirements.txt`
2. åœ¨ç›®å½•ï¼š`MoneyPrinterTurbo\webui` ä¸‹æ–°å»º`tts.py`ï¼Œå†…å®¹å¦‚ä¸‹ï¼š

```python
import os
import sys

# Add the root directory of the project to the system path to allow importing modules from the project
root_dir = os.path.dirname(os.path.dirname(os.path.realpath(__file__)))
if root_dir not in sys.path:
    sys.path.append(root_dir)
    print("******** sys.path ********")
    print(sys.path)
    print("")

from app.services import voice


play_content = '''
è¿™é‡Œå¡«æƒ³è¦ç”Ÿæˆè¯­éŸ³çš„æ–‡æœ¬
'''
voice_name = 'zh-CN-XiaoxiaoNeural'
voice_rate = 1.0
audio_file = 'e:\\test.mp3'
sub_maker = voice.tts(
            text=play_content,
            voice_name=voice_name,
            voice_rate=voice_rate,
            voice_file=audio_file,
        )
# if the voice file generation failed, try again with a default content.
if not sub_maker:
    play_content = "This is a example voice. if you hear this, the voice synthesis failed with the original content."
    sub_maker = voice.tts(
        text=play_content,
        voice_name=voice_name,
        voice_rate=voice_rate,
        voice_file=audio_file,
    )

```

3. ä½¿ç”¨æ—¶ä¿®æ”¹æ–‡æœ¬å†…å®¹ã€å£°éŸ³åç§°ã€ä¿å­˜æ–‡ä»¶è·¯å¾„å³å¯ã€‚

   ```
   2024-12-06 17:57:43.709 | INFO     | app.config.config:load_config:22 - load config from file: E:\soft\MoneyPrinterTurbo-Portable-Windows-1.2.1\MoneyPrinterTurbo/config.toml
   2024-12-06 17:57:43.710 | INFO     | app.config.config:<module>:70 - MoneyPrinterTurbo v1.2.2
   2024-12-06 17:57:43 | INFO | "./app\services\voice.py:1081": azure_tts_v1 - start, voice name: zh-CN-XiaoxiaoNeural, try: 1
   2024-12-06 17:57:48 | INFO | "./app\services\voice.py:1101": azure_tts_v1 - completed, output file: e:\test.mp3
   ```




**ä½¿ç”¨æ•ˆæœï¼š**

1. é¢„åˆ¶çš„å£°éŸ³é€‰é¡¹è¾ƒå¤šï¼Œä¹Ÿæ”¯æŒä¸­æ–‡ï¼Œåˆæˆçš„å£°éŸ³è‡ªç„¶ï¼Œå·²ç»æ¥è¿‘å•†ç”¨æ°´å¹³äº†ï¼Œæ•ˆæœå¾ˆå¥½ã€‚
2. æˆªæ­¢åˆ°ç›®å‰ï¼ˆ2024-12-12ï¼‰ï¼Œè¿˜ä¸æ”¯æŒè‡ªå®šä¹‰å£°éŸ³å…‹éš†ï¼ŒæœŸå¾…å¢åŠ ã€‚



## MockingBird

[babysor/MockingBird: ğŸš€AIæ‹Ÿå£°: 5ç§’å†…å…‹éš†æ‚¨çš„å£°éŸ³å¹¶ç”Ÿæˆä»»æ„è¯­éŸ³å†…å®¹ Clone a voice in 5 seconds to generate arbitrary speech in real-time](https://github.com/babysor/MockingBird)

ä¸­æ–‡æ–‡æ¡£ï¼š[MockingBird/README-CN ä¸­æ–‡](https://github.com/babysor/MockingBird/blob/main/README-CN.md)

å®‰è£…æ­¥éª¤å¯ä»¥å‚è€ƒè¿™ä¸ªå›¾æ–‡æ•™ç¨‹ï¼š[åˆå° Mocking Bird è¯­éŸ³åˆæˆ](https://blog.csdn.net/Dou_Fu_Ru/article/details/136639685) æˆ– [åˆå° Mocking Bird è¯­éŸ³åˆæˆ](https://blog.tofumilk.top/#/post/29)ï¼Œä»‹ç»åœ°æ¯”è¾ƒè¯¦ç»†ã€‚

1. å®‰è£…Python3ã€‚é€‰ç”¨ [é•œåƒç½‘ç«™](https://registry.npmmirror.com/binary.html?path=python) ä¸‹è½½Python3.9.13å®‰è£…åŒ…ï¼š[python-3.9.13-amd64.exe](https://registry.npmmirror.com/-/binary/python/3.9.13/python-3.9.13-amd64.exe)ã€‚è¿™é‡Œä¸€å®šè¦å°½é‡è´´åˆå®˜æ–¹æ¨èçš„ç‰ˆæœ¬ï¼Œè¿‡é«˜çš„ç‰ˆæœ¬åé¢ä¼šå­˜åœ¨è«åå…¶å¦™çš„é—®é¢˜ã€‚

2. ä¸‹è½½é¡¹ç›®ä»£ç ã€‚åˆ›å»º`MockingBird`æ–‡ä»¶å¤¹ï¼Œcloneé¡¹ç›®ä»£ç æˆ–è€…ç›´æ¥ä¸‹è½½ZIPåŒ…åè§£å‹åˆ°è¯¥ç›®å½•ä¸‹ã€‚

3. åˆ›å»ºPythonè™šæ‹Ÿç¯å¢ƒã€‚åœ¨`MockingBird`æ ¹ç›®å½•ä¸‹æ‰§è¡Œå‘½ä»¤ï¼š`D:\Python\Python39\python.exe  -m venv venv` ç„¶ååœ¨è¯¥ç›®å½•ä¸‹æ‰§è¡Œå‘½ä»¤éªŒè¯è™šæ‹Ÿç¯å¢ƒæ˜¯å¦å®‰è£…æˆåŠŸï¼š`venv\Scripts\pip3 -V`

4. å®‰è£… [PyTorch](https://pytorch.org/get-started/locally/)ã€‚é€‰æ‹©å¥½é€‚åˆæœ¬æœºçš„å‚æ•°ï¼Œå¤åˆ¶å®‰è£…å‘½ä»¤å¹¶æ‰§è¡Œï¼Œä¾‹å¦‚ï¼š`.\venv\Scripts\python -m pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu118`

5. å®‰è£…ffmpegã€‚æ‰“å¼€[ffmpegç½‘å€](https://github.com/BtbN/FFmpeg-Builds/releases)é€‰`ffmpeg-master-latest-win64-gpl.zip`ä¸‹è½½ï¼Œå®‰è£…åè®¾ç½®å¥½ç¯å¢ƒå˜é‡ï¼Œç¡®ä¿ç›´æ¥ä½¿ç”¨å‘½ä»¤èƒ½å¤Ÿè®¿é—®åˆ°ffmpegã€‚

6. å®‰è£…Pythonä¾èµ–åº“ã€‚è¿è¡Œ`.\venv\Scripts\python -m pip install -r requirements.txt` æ¥å®‰è£…ï¼Œå¦‚æœé€Ÿåº¦è¾ƒæ…¢å¯ä»¥ä½¿ç”¨å›½å†…é•œåƒã€‚`monotonic-align`çš„ç‰ˆæœ¬é—®é¢˜å®˜æ–¹ä»£ç å·²ç»ä¿®è¿‡äº†ï¼Œå› æ­¤è¿™é‡Œæ— é¡»å†åšé¢å¤–ä¿®æ”¹ã€‚

   - å¦‚æœæœ¬æœºç”µè„‘æ²¡æœ‰å®‰è£…VisualStudioï¼Œéœ€è¦å®‰è£…ä¹‹ã€‚
   - `PydanticImportError:pydantic:parse raw as has been removed in V2.`ï¼Œè¿™å¼€æºé¡¹ç›®ï¼Œè¿™ä¸œè¥¿å·²è¢«ä»V2ä¸­ç§»é™¤ï¼Œè¿™å…¼å®¹æ€§ä¸€è¨€éš¾å°½ã€‚ä¿®å¤æ–¹æ³•æ˜¯å®‰è£…æ—§ç‰ˆçš„ï¼ŒæŠŠ `pydantic` ç‰ˆæœ¬é™ä¸‹æ¥ï¼Œæ‰§è¡Œ`.\venv\Scripts\python -m pip install "pydantic < 2.0.0"`

7. è¿è¡Œ`.\venv\Scripts\python web.py`ï¼Œ

   ```
     You can now view your Streamlit app in your browser.
   
     Local URL: http://localhost:8080
     Network URL: http://10.219.21.30:8080
     External URL: http://103.126.92.182:8080
   ```

   åœ¨æµè§ˆå™¨ä¸­è®¿é—®ï¼šhttp://localhost:8080ï¼Œå‡ºç°é”™è¯¯ï¼Œä¸»è¦åŸå› æ˜¯ç¼ºå°‘æ¨¡å‹æ–‡ä»¶ï¼Œéœ€è¦ä¸‹è½½å¹¶é…ç½®ã€‚

8. ä¸‹è½½å¹¶é…ç½®æ¨¡å‹æ–‡ä»¶ã€‚https://pan.baidu.com/share/init?surl=fMh9IlgKJlL2PIiRTYDUvw?pwd=om7fï¼Œæˆ–è€… https://pan.baidu.com/s/1jgSUX6I732CScoYPjzIW0g?pwd=w331 ä¸‹è½½åå°†æ¨¡å‹æ–‡ä»¶ï¼ˆä¾‹å¦‚ï¼š`pretrained-11-7-21_75k.pt`ï¼‰æ”¾å…¥`\data\ckpt\synthesizer`ä¸­ï¼Œ`synthesizer`æ˜¯æ–°å»ºçš„æ–‡ä»¶å¤¹ï¼Œæºä»£ç ä¸­æ˜¯ä¸å­˜åœ¨ã€‚

9. é‡æ–°è¿è¡Œ`.\venv\Scripts\python web.py`ï¼Œåœ¨æµè§ˆå™¨ä¸­è®¿é—®ï¼šhttp://localhost:8080  

   - å¦‚æœç¼ºå°‘æ¨¡å—`audio recorder_streamlit`ï¼Œåˆ™å®‰è£…ï¼š`.venv\Scripts\python -m pip install audio recorder_streamlit



**ä½¿ç”¨æ•ˆæœï¼š**

1. å®‰è£…è¿‡ç¨‹ç¨å¾®æœ‰ç‚¹å¤æ‚ã€‚
2. æˆåŠŸè¿è¡Œåçš„æµè§ˆå™¨é¡µé¢æ˜¯æŒºç®€å•çš„ã€‚
3. äº®ç‚¹æ˜¯æ”¯æŒè‡ªå®šä¹‰å£°éŸ³å…‹éš†ï¼Œä½†æ˜¯è¯­éŸ³åˆæˆæ•ˆæœå¾ˆå·®ï¼Œæ²¡æ³•ä½¿ç”¨ã€‚
4. æ”¯æŒä¸­æ–‡ï¼Œæ‚éŸ³è¾ƒå¤šï¼Œå¯èƒ½è·ŸWAVçš„çº¯å‡€åº¦æœ‰å…³ï¼Œç”Ÿæˆçš„å£°éŸ³æœ‰äº›æ–‡å­—å‹æ ¹å°±æ²¡æœ‰å‡ºæ¥ï¼Œå°±æ˜¯ä¸€å †å™ªéŸ³ï¼Œå¦å¤–è¯»èµ·æ¥ä¹Ÿæ˜¯ä¸€ä¸ªå­—ä¸€ä¸ªå­—è¹¦å‡ºæ¥çš„ï¼Œä¸å¤Ÿè‡ªç„¶æµç•…ã€‚





