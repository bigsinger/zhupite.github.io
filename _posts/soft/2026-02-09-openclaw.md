---
layout:		post
category:	"soft"
title:		"openclaw（小龙虾🦞）"

tags:		[ai]
---
- Content
{:toc}

# 安装

## Windows子系统WSL2下安装

参考 [Linux - Ubuntu（WSL）的常用命令汇总](https://zhupite.com/soft/wsl-linux-ubuntu.html) 在Windows上安装子系统**Ubuntu-24.04**：

```bash
wsl --install -d Ubuntu-22.04

# 更新软件
sudo apt-get update
sudo apt-get upgrade
```

然后安装：

```bash
curl -fsSL https://openclaw.ai/install.sh | bash
```

安装时会有一个向导步骤，可以参考这篇文章选择：[【最新教程】OpenClaw（原Clawdbot/Moltbot）本地部署快速指南_openclaw本地部署](https://blog.csdn.net/houzi86/article/details/157614236)，相对来说比较简单，如果无法配置或者不知道怎么选择的可以先跳过。

## 纯Windows

参考 [Windows安装OpenClaw（Clawdbot）教程_openclawd](https://blog.csdn.net/qq_73252299/article/details/157556575) ，暂时没试过。

## 使用

如果在安装过程中有配置好大模型的apikey，安装成功后就可以直接访问了，否则可以参考大模型配置一节配置好apikey后方能正常使用。

浏览器访问openclaw：<http://localhost:18790?token=>

# 常用命令

```bash
# 配置向导
openclaw onboard

# 更新openclaw
openclaw update

# 查看模型状态
openclaw models status

# 查看token(就是浏览器访问需要的token参数)
cat ~/.openclaw/openclaw.json | grep -i token

# 设置配置合并模式（防止覆盖其他配置）
openclaw config set models.mode merge

# 设置默认模型
openclaw models set nvidia/z-ai/glm4.7

# 重启网关使配置生效
openclaw gateway restart

# 测试对话
openclaw agent --message "你好"
openclaw agent --message "你好" --agent main

# 查看已加载的技能列表
openclaw skills list

# 查看特定技能详情
openclaw skills show skill-name

# 测试技能
openclaw skills test skill-name

# 卸载
openclaw uninstall
```

# 大模型选择

## nvidia英伟达（免费推荐）

可以使用英伟达提供的免费大模型，<https://build.nvidia.com/explore/discover，> 点击右上角的 **Generate API Key**（或**Manage API Keys**），创建的时候过期时间可以选择**永不过期**（100年）。
创建成功后将apikey复制下来使用，替换到如下的命令行中执行，重启网关后生效。

```bash
openclaw config set 'models.providers.nvidia' --json '{
  "baseUrl": "https://integrate.api.nvidia.com/v1",
  "apiKey": "nvapi-your-api-key",
  "api": "openai-completions",
  "models": [
    { "id": "z-ai/glm4.7", "name": "GLM-4.7" },
    { "id": "minimaxai/minimax-m2.1", "name": "MiniMax M2.1" },
    { "id": "moonshotai/kimi-k2-thinking", "name": "Kimi K2" }
  ]
}'

openclaw config set models.mode merge
openclaw models set nvidia/z-ai/glm4.7
openclaw gateway restart
```
## OpenRouter（付费推荐）
OpenRouter 提供了一个特殊的模型 `ID openrouter/auto`，它会自动分析你的输入，并在保证效果的前提下选择性价比最高的模型。OpenRouter 方案的核心在于利用其 **模型路由（Auto-routing）** 特性。这就像给 OpenClaw 装了一个“智能变速箱”，它会根据你提问的难易程度自动切换引擎。

- 优点：全自动。心跳检测（Heartbeats）或简单的“你好”会被路由到极便宜的模型（如 Gemini Flash 或 Claude Haiku），而复杂的逻辑分析会被推给 GPT-4o 或 Claude Opus。
- 缺点：你无法精细控制它“到底什么时候切换”。

配置方法：
1. 访问 [OpenRouter 官网](https://openrouter.ai/)。
2. 点击右上角登录（支持 Google/GitHub）。
3. 进入 Keys 页面，点击 Create Key。重要： 记得复制保存这个 Key。
4. 充值。使用国内的visa信用卡就可以支付充值，首次玩可以先少量充值，例如100美元。
5. 然后在openclaw里配置模型使用OpenRouter，如果嫌编辑配置文件太麻烦的话可以使用配置向导：`openclaw onboard` 其他的选项别动只修改模型（Model/auth provider），按照步骤把key粘贴进去即可。
6. 为了


## Google谷歌gemini-1.5-flash（免费需梯子）

访问：<https://aistudio.google.com/api-keys，> 然后点击右上角的「获取 API 密钥」，因为需要梯子，这个没测试通，有空了再试。

## 国内其他免费大模型

- 阿里云百炼的通义千问Plus，据说有100万tokens免费额度，没有实际用过。
- 火山方舟的GLM-4-7，据说有50万tokens免费额度，实际跑通了，但是只用了几轮会话就消耗光了。

```bash
openclaw config set 'models.providers.volcano' --json '{
  "baseUrl": "https://ark.cn-beijing.volces.com/api/v3",
  "apiKey": " xxx ",
  "api": "openai-completions",
  "models": [
    {"id": "glm-4-7-251222", "name": "GLM-4.7"}
  ]
}'

openclaw config set models.mode merge
openclaw models set volcano/ark-code-latest
openclaw gateway restart

```

# channel

OpenClaw 将多个即时通讯平台连接到 AI 编程代理（如 Pi），让你通过熟悉的聊天工具直接控制你的电脑。

## 微信

## 飞书

### 创建飞书机器人应用

1. 创建应用
   - 访问 [飞书开发者后台](https://open.feishu.cn/app)
   - 点击「创建企业自建应用」，填写应用名称和描述
2. 添加机器人能力
   - 进入应用，选择「添加应用能力」
   - 在右侧「按能力添加」菜单中找到「机器人」点击添加
3. 开通权限
   - 进入「权限管理」，开通以下权限：在“权限”页面，点击“批量导入”并粘贴：

```json
{
  "scopes": {
    "tenant": [
      "aily:file:read",
      "aily:file:write",
      "application:application.app_message_stats.overview:readonly",
      "application:application:self_manage",
      "application:bot.menu:write",
      "contact:user.employee_id:readonly",
      "corehr:file:download",
      "event:ip_list",
      "im:chat.access_event.bot_p2p_chat:read",
      "im:chat.members:bot_access",
      "im:message",
      "im:message.group_at_msg:readonly",
      "im:message.p2p_msg:readonly",
      "im:message:readonly",
      "im:message:send_as_bot",
      "im:resource"
    ],
    "user": ["aily:file:read", "aily:file:write", "im:chat.access_event.bot_p2p_chat:read"]
  }
}
```

1. 发布，进入「版本管理与发布」，先发布一次，因为后面要添加事件订阅，必须要发布后让agent跟这个机器人先建立起一次长连接。

2. 凭证与基础信息，可以看到「App ID」和「App Secret」，复制下来备用。

3. 配置agent（例如openclaw）里的飞书插件信息，设置好「App ID」和「App Secret」，然后启动agent。

4. 在飞书里添加事件订阅，进入「事件与回调」，选择「长连接」，然后点「添加事件」，添加如下事件：

```
im.message.receive_v1           （必需！收取消息）
im.message.message_read_v1      （读取消息标记）
im.chat.member.bot.added_v1     （机器人被添加到群组）
im.chat.member.bot.deleted_v1   （机器人被从群组移除）
```

1. 再次发布，进入「版本管理与发布」，不发布配置不会生效，也就是说配置上有了修改需要做一个发布动作。

### 配置openclaw

```bash
# 安装飞书插件
openclaw plugins install @m1heng-clawd/feishu

# 配置创建的飞书机器人的AppID和AppSecret
openclaw config set channels.feishu.appId "App ID"
openclaw config set channels.feishu.appSecret "App Secret"
openclaw config set channels.feishu.enabled true

# 重启网管生效
openclaw gateway restart
```

# skills

可以通过自然语言让openclaw安装skill。

## 邮件处理
技能：https://clawhub.ai/gzlicanyi/imap-smtp-email

提示词：
```
安装技能：https://clawhub.ai/gzlicanyi/imap-smtp-email

如果需要配置 请协助我一步步完成配置 我使用的是163.com的邮箱，完成配置后请做一次收发邮件的测试确保成功。
```

agent回复：
```
好的，我来帮你一步步配置 163.com 邮箱。
第一步：在 163 网页端开启 IMAP/SMTP 并获取授权码
注意：163 邮箱需要使用授权码，而不是账户登录密码。

请按以下步骤操作：
登录 163 网页邮箱
点击顶部 "设置" → "POP3/SMTP/IMAP"
找到 "IMAP/SMTP服务"，点击 "开启"
按照提示发送短信验证
开启后会显示一个 授权码（16位字符），请妥善保存
---
第二步：提供配置信息
请告诉我以下信息：
你的 163 邮箱地址（例如：username@163.com）
刚才获取的授权码（16位，不是登录密码）
---

准备好后告诉我，我会帮你创建 `.env` 配置文件并测试连接！
```
提示词：
```
邮箱：xxxxxx@163.com  授权码：xxxxxxx
```
配置好后agent自动做了收发邮件的测试，我这边邮箱收到了一封标题为`SMTP Connection Test`，内容为`This is a test email from the IMAP/SMTP email skill.`的邮件。

## 热点资讯
技能：https://clawhub.ai/wuchubuzai2018/wechat-article-search

提示词：
```
安装技能：https://clawhub.ai/wuchubuzai2018/wechat-article-search  
然后检查该技能是否需要关注相关的公众号，如需请告诉我如何配置，如不需要请在安装好该技能后直接获取最近一天的关于AI的热门咨询，汇总成邮件发送给我（xxxxxx@163.com）
```

然后就收到了如下邮件：
```
今日热门文章
1. AI时代职场人如何不被替代?2026紫领能力模型+AI技能溢价全解
来源: 周易国学文化传承 | 时间: 2小时前
摘要: AI正在重构职场淘汰规则,纯执行岗位加速被替代,而懂业务+...
2. Ai时代下的英语学习要点
来源: 背包客维妮 | 时间: 2小时前
摘要: * 2026年:AI关键词是突破与落地,展示了中国AI产业从实验室走向全民视野的硬实力,特别是人形机器人的自主决策能力被...
3. AI算力产业链王者归来,坚守战略稀缺小金属
来源: 红印章 | 时间: 2小时前
摘要: AI算力产业链王者归来,坚守战略稀缺金属一、大盘综述今天是2月26日,A股主要指数涨跌不一...
```

继续改进提示词：
```
很好，我已经收到了你的AI资讯邮件，请在这个格式基础上把资讯的URL链接给超链到每个资讯标题上这样方便点开查看原文，然后在结构化上增加一个你的点评，就是该咨询的价值点，这样我好确定要不要打开查看。再设置成定时任务，每天早晨8点、中午12点、晚上20点分别做一次AI热点资讯的发送。最后请你记住以上这些配置，最好保存到本地的某个MD文件里，这样方便你做持久化记忆。
```
agent执行后：
```
完美！所有任务都已完成。让我总结一下：
✅ 任务完成总结
1. 优化邮件格式****
✅ 标题已添加超链，点击可直接跳转到原文
✅ 每篇文章增加了智能价值点评
✅ 美观的HTML排版，包含热点分析
2. 智能价值点评系统****
根据文章内容自动识别价值点：
💼 职场竞争力 - AI时代个人成长
💻 技术实践 - AI编程工具
📊 投资机会 - AI基础设施与产业链
📚 教育变革 - AI时代学习策略
🧠 深度思考 - AI意识与伦理
📰 信息聚合 - 行业动态
🚀 应用案例 - 实际落地场景
📖 行业观察 - AI趋势
3. 定时任务设置成功****
三个定时任务已创建：
🌅 早晨8:00 - `nanobot-ai-news-morning`
☀️ 中午12:00 - `nanobot-ai-news-noon`
🌙 晚上20:00 - `nanobot-ai-news-evening`
4. 配置持久化****
配置文件已保存到：
📄 `C:\Users\用户名.nanobot\workspace\AI_NEWS_CONFIG.md`
📄 `C:\Users\用户名.nanobot\workspace\memory\MEMORY.md` (已更新)
5. 测试验证****
刚才已成功发送一封测试邮件到您的邮箱 `xxxxxx@163.com`，请查收确认格式是否符合要求。

📁 创建的文件：
`scripts/ai_news_digest.py` - 主脚本
`scripts/ai_news_digest.bat` - Windows批处理入口
`scripts/setup_ai_news_tasks.bat` - 定时任务安装脚本
`AI_NEWS_CONFIG.md` - 完整配置文档
🎯 下次发送时间：
今天12:00（中午）
今天20:00（晚上）
明天08:00（早晨）
请查收刚才发送的测试邮件，看看格式和点评是否符合您的需求！如有需要调整的地方，请告诉我。
我检查了一下，从刚才的执行结果来看，所有任务都已完成：

✅ 定时任务创建成功：
nanobot-ai-news-morning（早晨8:00）
nanobot-ai-news-noon（中午12:00）
nanobot-ai-news-evening（晚上20:00）
✅ 测试邮件发送成功：
邮件ID: xxxx-xxx-xxx-xxx-xxxx@163.com
接收邮箱: xxxxxx@163.com
✅ 配置文件已保存：
AI_NEWS_CONFIG.md
MEMORY.md 已更新
```

## 视频下载

[skills/skills/apollo1234/yt-dlp-downloader-skill/SKILL.md at main · openclaw/skills](https://github.com/openclaw/skills/blob/main/skills/apollo1234/yt-dlp-downloader-skill/SKILL.md)
测试可以通过自然语言安装该skill并下载YouTube视频，B站视频目前不行好像有反爬。

```bash
# pip install yt-dlp
sudo apt install yt-dlp
sudo apt install ffmpeg
```

# 使用场景

- 自然语言沟通整理杂乱的桌面；
- 接入FAQ，可以做智能客服；
- 聊天搭子；
- 家具物联网控制；
- 收发邮件整理邮件；
- 总结邮件内容，形成周报月报待办；
- 自动获取热点资讯定时发送；

# 其他agent

## [nanobot](https://github.com/HKUDS/nanobot)

[nanobot](https://github.com/HKUDS/nanobot)是一款受OpenClaw启发而设计的超轻量级个人 AI 助手。仅用约 4,000行代码即可实现核心代理功能——比 Clawdbot 的 430,000 多行代码少 99% 。

- **安装**：以Windows系统为例，在某个文件夹下clone代码
  ```bash
  git clone https://github.com/HKUDS/nanobot.git
  cd nanobot
  pip install -e .
  ```
  或者通过pip安装稳定版：
  ```bash
  pip install nanobot-ai
  ```
  然后需要初始化一次：
  ```bash
  nanobot onboard
  ```
- **配置**：
  将这两个部分添加到您的配置中或合并到您的配置中（其他选项有默认值）。
  ```json
  {
    "providers": {
      "openrouter": {
        "apiKey": "sk-or-v1-xxx"
      }
    }
  }
  ```
  设置您的 API 密钥（例如 OpenRouter，建议全球用户使用）：
  ```json
  {
    "agents": {
      "defaults": {
        "model": "anthropic/claude-opus-4-5"
      }
    }
  }
  ```

- **运行**：`nanobot gateway`
- **更新**：
  - 源码方式：pull最新代码再执行：`pip install -e .`
  - 或者pip更新，然后重新运行。
  - 或者`uv tool update nanobot-ai`
- **使用**：
  - 可以通过命令行方式进行聊天：`nanobot agent` ， 例如：`nanobot agent -m "Hello!"`
  - 截止目前为止不提供webchat的方式；
  - 可以接入channel（例如飞书机器人）进行对话；

## [PicoClaw](https://github.com/sipeed/picoclaw)

[PicoClaw](https://github.com/sipeed/picoclaw) 是一款受纳米机器人启发的超轻量级个人 AI 助手，它使用 Go 从头开始​​重构，通过自引导过程实现，其中 AI 代理本身驱动了整个架构迁移和代码优化。仅需 10 美元硬件和不到 10MB 内存即可运行：比 OpenClaw 内存少 99%，比 Mac mini 便宜 98%！

# 参考

- [OpenClaw 文档](https://docs.openclaw.ai/zh-CN)
- [openclaw/openclaw: Your own personal AI assistant. Any OS. Any Platform. The lobster way. 🦞](https://github.com/openclaw/openclaw)
- openclaw官网：[OpenClaw — Personal AI Assistant](https://openclaw.ai/)
- [OpenClaw（原ClawdBot/MoltBot）接入国内模型Minimax保姆级安装部署配置教程_linux安装openclaw](https://blog.csdn.net/weixin_45110225/article/details/157649361)
- [Windows安装OpenClaw（Clawdbot）教程_openclawd](https://blog.csdn.net/qq_73252299/article/details/157556575)
- [Windows 也能跑 OpenClaw！最完整安装教程 + 飞书接入，全程避坑_openclaw windwos](https://blog.csdn.net/m0_60925013/article/details/157770523/)
